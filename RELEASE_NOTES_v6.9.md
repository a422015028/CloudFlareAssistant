## 🎯 核心更新

### 📝 脚本编辑器重大改进

#### 🔍 全新搜索功能
- **Material Design 3 搜索界面**：替换原有的 CodeMirror 内置对话框，采用现代化卡片式设计
- **实时搜索**：输入时自动搜索并高亮所有匹配项
- **智能高亮**：
  - 所有匹配项：黄色背景 + 黄色底边框
  - 当前选中项：橙色背景 + 橙色底边框
- **便捷导航**：
  - 上一个/下一个按钮快速跳转匹配项
  - 自动滚动并居中显示当前匹配
  - 清除按钮一键清空搜索
- **优化体验**：浮动搜索栏设计，不遮挡编辑内容

#### 🔄 版本控制优化
- **撤销功能**：新增撤销按钮，可一键恢复到最后一次手动保存或从 Cloudflare 同步的版本
- **移除自动保存**：简化编辑流程，采用完全手动保存模式，避免版本历史混乱
- **返回确认**：编辑器中使用返回键或手势导航时，如有未保存更改会弹出确认对话框

#### 🎨 UI/UX 改进
- **图标化工具栏**：撤销、全选、历史按钮改为 Material Design 3 纯图标设计
- **优化间距**：减少工具栏按钮间距，界面更紧凑美观
- **无障碍支持**：所有图标按钮添加 contentDescription

## 🛠️ 技术细节

### 新增资源
- `ic_undo.xml` - 撤销图标
- `ic_select_all.xml` - 全选图标
- `ic_arrow_up.xml` - 向上导航图标
- `ic_arrow_down.xml` - 向下导航图标
- `ic_close.xml` - 关闭图标

### 代码优化
- 自定义搜索算法：基于 CodeMirror SearchCursor API
- 搜索高亮标记：使用 markText API 实现多色高亮
- 返回键拦截：OnBackPressedCallback 处理系统导航
- 生命周期管理：使用 viewLifecycleOwner 防止内存泄漏

## 📦 完整功能列表

### 编辑器功能
- ✅ CodeMirror 5.65.16 语法高亮
- ✅ JSHint 2.13.6 实时语法检查
- ✅ 无限版本历史记录
- ✅ Material Design 3 搜索界面
- ✅ 一键撤销到上次保存
- ✅ 全屏编辑体验
- ✅ 代码折叠
- ✅ 括号匹配
- ✅ 自动补全括号
- ✅ 当前行高亮

### 搜索功能
- ✅ 实时搜索
- ✅ 多匹配项高亮
- ✅ 快速导航（上一个/下一个）
- ✅ 自动滚动居中
- ✅ 特殊字符转义
- ✅ 清除高亮

### 版本管理
- ✅ 手动保存版本
- ✅ Cloudflare 同步版本
- ✅ 版本历史浏览
- ✅ 版本恢复
- ✅ 版本删除
- ✅ 撤销到上次保存

